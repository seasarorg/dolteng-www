<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="ja" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="keywords" content="dolteng, Seasar, The Seasar Project, The Seasar Foundation, OSS, Open Source Software, Java, Framework" />
<meta name="description" content="dolteng" />
<title>dolteng</title>
<link rel="stylesheet" type="text/css" href="http://www.seasar.org/theme/main.css" media="screen,projection" />
<link rel="stylesheet" type="text/css" href="http://www.seasar.org/theme/print.css" media="print" />
</head>

<body>

<div id="wrapper">

<div id="header">

<div class="line"><span class="hide">spacer</span></div>

<div id="logo"><h2 id="h01" class="hide">The Seasar Foundation Project Site</h2><img src="http://www.seasar.org/images/seasar_logo_blue.gif" alt="The Seasar Project" width="390" height="180" /></div>

<div id="tool">

<h2><a href="http://search.seasar.org/">Site Search</a></h2>

<form id="search" name="search" action="http://search.seasar.org/">
<div>
	<input id="search_phrase" type="text" name="phrase" size="20" />
	<input type="hidden" name="perpage" value="30" />
	<input type="hidden" name="enc" value="UTF-8" />
	<input id="search_go" type="submit" value="Search" />
</div>
</form>

<h2>Seasar Banner</h2>

<p><a href="http://www.seasar.org/images/seasar_banner.gif"><img src="http://www.seasar.org/images/seasar_banner.gif" alt="Seasar Banner" title="Seasar Banner" width="146" height="33" /></a></p>

</div>

</div><!-- header -->


<div id="contents_left">

<h2>Menu</h2>

<ul>
	<li><a href="index.html#Abstract">概要</a></li>
	<li><a href="index.html#news">NEWS</a></li>
	<li><a href="index.html#Setup">セットアップ</a>
	<li>使い方
		<ul>
			<li><a href="#project-wizard">プロジェクトの新規作成</a></li>
			<li><a href="#new-html-page">HTML、Pageクラスの作成(Teeda)</a></li>
			<li><a href="#database-view">DatabaseView</a></li>
			<li><a href="#sql-dao">SQLファイルとDaoクラスの相互遷移（S2Dao）</a></li>
			<li><a href="#sql-dto">SQLファイルからDTOの自動生成</a></li>
			<li><a href="#marker">マーカー</a></li>
			<li><a href="#other">その他</a></li>
		</ul>
	</li>
	<li><a href="combination.html">組み合わせ</a></li>
	<li><a href="index.html#maillist">メーリングリスト</a></li>
	<li><a href="index.html#tracking">トラッキング</a></li>
	<li><a href="index.html#subversion">Subversionリポジトリ</a></li>
</ul>

</div><!-- contents_left -->

<div id="contents_center">

<div id="article">

<div class="section">

<h2>How to use Scaffold</h2>

<h3><a name="Abstract">概要</a></h3>

<p>
DoltengのScaffold機能は、あるテーブルに対するCRUD(Create Read Update Delete)処理を行うアプリケーションを自動生成します。
</p>

<h3><a name="Usage">使い方</a></h3>


<img src="images/scaffold/001_scaffold.gif"/>
<img src="images/scaffold/002_scaffold.gif"/>
<img src="images/scaffold/003_scaffold.gif"/>
<img src="images/scaffold/004_scaffold.gif"/>
<img src="images/scaffold/005_scaffold.gif"/>


















<p>SeasarWikiの<a href="http://www.seasar.org/wiki/index.php?Dolteng">Doltengプラグイン機能覚え書き</a>も参考にしてください。</p>

<a href="http://teeda.seasar.org/ja/">Teeda</a>をご利用の方は、
Teeda Extensionの<a href="http://teeda.seasar.org/ja/extension/firststep/index.html">ファーストステップ</a>もご覧ください。

<h4><a name="project-wizard">プロジェクトの新規作成</a></h4>

<p>コミッタのブログの<a href="http://d.hatena.ne.jp/taichitaichi/20080411/1207910328">こちらも</a>参考にしてください。</p>

<p>Eclipseの「File」-「New」-「Project」を選択し、「Dolteng」のカテゴリから「Dolteng Project」を選択します。</p>
<img src="images/new-project.gif"/>
<p>いろいろなタイプのプロジェクトを選択することができます (<a href="combination.html#new_wizard">テスト済みの組み合わせ</a>)。まず「Project name」、「Root Package Name」を入力してください。</p>
<img src="images/new-project2.gif"/>
<p>Application Typeを選択します。</p>
<img src="images/new-project3.gif"/>
<p>Persistenceを選択します。</p>
<img src="images/new-project4.gif"/>
<p>Presentationを選択します。</p>
<img src="images/new-project5.gif"/>
<p>Server Managementを選択します。</p>
<img src="images/new-project6.gif"/>
<p>Nextボタンを押すと、プロジェクトのディレクトリレイアウトの設定画面にすすみます。</p>
<img src="images/create-dolteng-project.gif"/>
<p>Finishボタンを押すと、最終的に以下のようなプロジェクトが作成されます。</p>
<img src="images/create-dolteng-project-result.gif"/>

<h4><a name="new-html-page">HTML、Pageクラスの作成</a></h4>

<p>Teeda用のHTMLを作成するには「File」-「New」-「Other」-「Teeda HTML」を選択します。</p>

<img src="images/create-html.gif"/>

<p>保存場所を選択します。</p>

<img src="images/create-html2.gif"/>

<p>HTMLの表示を確認するためにはAPサーバを起動後、ポップアップメニューから「View on Server」を選択します。</p>
<p>HTMLからPageクラスを作成する場合は、ポップアップメニューから「Create New Page Class」を選択します。</p>

<img src="images/popup-menu.gif"/>

<p>Pageクラス作成ウィザード</p>

<img src="images/page-class.gif"/>

<img src="images/page-class2.gif"/>

<p>例えば以下のHTMLに対しては、</p>

<img src="images/hello-html.gif"/>

<p>以下のPageクラスが作成されます。</p>

<img src="images/hello-page.gif"/>

<p>Pageクラスを作成する時に、「Items」に後方一致するIDを持つタグがあれば、クラス名としてDTOを指定することが出来ます。
その際、セルの右側の「...」ボタンを押下すると、DTOを作成するウィザードが起動します。</p>

<img src="images/items.gif"/>

<p>
HTMLからPageクラスへの<a href="http://teeda.seasar.org/ja/extension_features.html#dynamicproperty">ダイナミックプロパティ</a>を追加する場合は、
id属性をもつタグのid以外の属性を選択してポップアップメニューを開き
「Add Dynamic Property」を選択して開いたウィンドウに表示されたid以外の属性一覧から属性を指定すると
それがダイナミックプロパティとしてPageクラスに追加されます。ダイナミックプロパティのデフォルト値はウィンドウで定義されます。
</p>

<img src="images/dynamic-property.gif"/>

<h4><a name="database-view">DatabaseView</a></h4>

<p>DoltengにはDBのテーブル情報を表示するDatabaseViewがあります。
DbLauncherを使用して  <a href="http://www.h2database.com/">H2 Database Engine</a>  を起動後
「Window」-「Show View」-「Other」から開いてください。</p>

<img src="images/show-view.gif"/>

<p>DatabaseViewからDao及びEntity、Scaffoldを作成することができます。</p>

<img src="images/database-view.gif"/>

<br/>

<img src="images/scaffold-dialog.gif"/>

<h4><a name="sql-dao">SQLファイルとDaoクラスの相互遷移（S2Dao）</a></h4>

<p><a href="http://s2dao.seasar.org/ja/index.html">S2Dao</a>を使っている場合は
SQLファイルとDaoクラスの遷移を行うことができます。</p>

<ul>
	<li>Ctrl+3またはポップアップメニューの「Open Dao Pair」でDao～SQLファイルを遷移する。</li>
	<li>S2Daoでは、Daoクラスの対象のメソッド名の付近にカーソルを置くと、そのメソッドに対応するSQLファイルに遷移することができる。</li>
	<li>対応するSQLファイルが存在しない場合、SQLファイルを生成するウィザードが起動する。</li>
</ul>

<h4><a name="sql-dto">SQLファイルからDTOの自動生成</a></h4>
<p>SQLファイルを右クリックして、ポップアップメニューの「Create New Dto」でDTOを作成することもできます。</p>

<img src="images/create-new-dto.gif"/>
<br/>
<img src="images/create-new-dto2.gif"/>
<br/>
<img src="images/create-new-dto3.gif"/>
<br/>
<img src="images/create-new-dto4.gif"/>

<h4><a name="marker">マーカー</a></h4>

<p>コミッタのブログの<a href="http://d.hatena.ne.jp/taichitaichi/20070115/1168842128">こちらも</a>参考にしてください。</p>

<p>Doltengで使われる代表的なマーカーとしてPageマーカーとDIマーカーがあります。</p>

<p>PageマーカーはHTMLのid属性とPageクラスのフィールドをマッピングします。
Ctrl+5でHTML～Pageを遷移することもできます。</p>
<img src="images/page-marker.gif"/>

<p>DIマーカーはDIされる(だろう)クラスをエディタの左側にマーカー表示します。
左側にある「DIされるっぽいアイコン」をクリックした所です。
「Jump to EmpServiceImpl#」をさらにクリックすると、EmpServiceの実装クラスにジャンプします。
Javadoc表示は実装クラスのクラスコメントをまず探し、Javadocが記述されていなければ、
インターフェースのクラスコメントを追加で探す様になっています。
</p>

<img src="images/di-marker.gif"/>

<h4><a name="other">その他</a></h4>

<p>ポップアップメニューからさまざまな操作を行うことができます。</p>

<p>ドキュメントを見たい場合は、ポップアップメニューからView ～ Helpを選択してください。</p>

<p>コミッタのブログの<a href="http://d.hatena.ne.jp/taichitaichi/20070723/1185179343">こちらも</a>参考にしてください。</p>

<img src="images/popup-menu2.gif"/>

<p>プロジェクトプロパティの「Use Remote Help」のチェックボックスをONにする事で、
seasar.orgに配置されているマニュアルを見に行くようにする事も出来ます。
</p>

<img src="images/project-property.gif"/>

<p>convention.diconへのMockクラスの一括登録を行うこともできます。</p>

<img src="images/popup-menu3.gif"/>

<p>そのほか以下のように各種遷移が行うことができます。</p>

<ul>
	<li>Orm.xmlとDao、Entityクラスの相互遷移（KuinaDao）
	<ul>
		<li>Ctrl+3またはポップアップメニューの「Open Dao Pair」でDao～Orm.xmlを遷移する。</li>
		<li>Ctrl+4またはポップアップメニューの「Open Entity Pair」でEntity～Orm.xmlを遷移する。</li>
		<li>対応するOrm.xmlが存在しない場合、プロジェクトのPreferencesの「OrmXmlPath」で設定したパスにOrm.xmlの雛形を生成する。</li>
	</ul>
	</li>
	<li>HTMLファイルとPage、Actionクラスの相互遷移（S2Dao）
	<ul>
		<li>Ctrl+5でHTML～Pageを遷移する。</li>
		<li>Ctrl+6でHTML～Actionを遷移する。</li>
		<li>項目に対応関係がある場合、Pageクラスのエディタにマーカーを表示する。</li>
		<li>マーカーはプロジェクトの設定で「Use Page Marker」にチェックすれば表示される。</li>
		<li>マーカーはPageクラス、HTMLファイルの更新に同期する。</li>
		<li>マーカーを手動で更新するにはポップアップメニューから「Refresh Marker」を選択する。</li>
	</ul>
	</li>
</ul>

<p>ショートカットキーは「Window」-「Preference」-「General」-「Keys」で変更することができます。</p>

<img src="images/shortcut-key.gif"/>

</div><!-- section -->

</div><!-- article -->

</div><!-- contents_center -->

<div id="footer">
<address>&copy; Copyright The Seasar Foundation and the others 2008, all rights reserved.</address>
<div class="line"><span class="hide">spacer</span></div>
</div><!-- footer -->

</div><!-- wrapper -->

</body>
</html>

